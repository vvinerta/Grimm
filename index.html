<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pagina para gestionar una lista de weses y editarla">
    <title>Grim</title>
    <link rel="stylesheet" href="style.css">
    <script src="Grimm.js"></script>
    
</head>
<body>
    <h1>Listado de wesen</h1>
    <div class="grid">
        <div class="listado" id = "contenedorTabla">
            
            <table>
                <tr>
                  <th>Nombre</th>
                  <th>Foto</th>
                </tr>
                <tbody id="tabla">
                </tbody>
              </table>
            <script>
                console.log(listado);
                const tabla = document.getElementById('tabla');
                listado.forEach(function(objeto, index) {
                    const fila = document.createElement('tr');
                    fila.id = objeto.id;
                        fila.addEventListener('click', function() {
                        cargarDatos(index); 
                    });
                    const nombreCelda = document.createElement('td');
                    nombreCelda.textContent = objeto.nombre;
                    const fotoCelda = document.createElement('td');
                    const imagen = document.createElement('img');
                    imagen.src = objeto.urlImagen;
                    imagen.alt = 'foto de un wesen';
                    fotoCelda.appendChild(imagen);

                    fila.appendChild(nombreCelda);
                    fila.appendChild(fotoCelda);

                    tabla.appendChild(fila);
                });
            </script>
            
        </div>

        <div class="formulario">
            <form onsubmit="return false;" id="formWessen">
                <label for="txtNombre">Nombre : </label>
                <input type="text" name="txtNombre" id="txtNombre" required><br><br>
                <label for="txtUrlImagen">Imagen : </label>
                <input type="text" name="txtUrlImagen" id="txtUrlImagen" placeholder="Url de una imagen" required><br><br>
                <label for="comboTipo">Tipo : </label>
                <select name="comboTipo" id="comboTipo" required></select>
                <script>
                    var select = document.getElementById("comboTipo");
                    for (var i = 0; i < arrayTipos.length; i++) {
                        var opcion = document.createElement("option");
                        opcion.value = arrayTipos[i];
                        opcion.text = arrayTipos[i];
                        select.appendChild(opcion);
                    }
                </script>
                <label for="comboPeligrosidad">Peligrosidad : </label>
                <select name="comboPeligrosidad" id="comboPeligrosidad" required></select>
                <script>
                    var select = document.getElementById("comboPeligrosidad");
                    for (var i = 0; i < arrayPeligrosidad.length; i++) {
                        var opcion = document.createElement("option");
                        opcion.value = arrayPeligrosidad[i];
                        opcion.text = arrayPeligrosidad[i];
                        select.appendChild(opcion);
                    }
                </script>
                <br><br>
                <label for="txtDescripcion">Descripcion : </label>
                <br>
                <textarea name="txtDescripcion" id="txtDescripcion" rows="5" cols="40"></textarea><br><br>
                <label for="txtNotas">Notas : </label>
                <br>
                <textarea name="txtNotas" id="txtNotas" rows="5" cols="40"></textarea><br><br>
                <div class="botones">
                    <button onclick="añadirElemento()" id="btnAnadir" type="submit">Añadir</button>
                    <button onclick="modificarElemento(miWessen)" id="btnModificar" type="submit">Modificar</button>
                    <button onclick="borrarElemento(miWessen)" type="reset" id="btnEliminar">Eliminar</button>
                </div>

            </form>
        </div>
    </div>
</body>
</html>